<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<!-- build:css main.min.css -->
		<link rel="stylesheet", href="css/main.css", initial-scale=1.0, maximum-scale=1.0, user-scalable="no">
	<!-- /build -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
	<div id="phaser-div" style="position:relative;">
		<!-- Mobile Controls (hidden by default) -->
		<div id="mobile-controls" style="display:none; position:absolute; left:0; top:0; width:100%; height:100%; pointer-events:none;">
			<div id="shoot-area" style="position:absolute; left:0; top:0; width:100%; height:100%; z-index:1000; pointer-events:auto;"></div>
			<div id="joystick-zone" style="position:absolute; left:10px; bottom:100px; width:120px; height:120px; z-index:1001; pointer-events:auto;"></div>
		</div>
	</div>
	<button id="show-mobile-controls" style="position:fixed;top:10px;right:10px;z-index:2000;padding:10px 18px;font-size:16px;background:#ffb300;color:#222;border:none;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.15);cursor:pointer;">Show Mobile Controls</button>
	<div class="info" style="position:fixed;bottom:10px;left:10px;z-index:2000;color:white;background:rgba(0,0,0,0.7);padding:10px 20px;border-radius:10px;font-size:16px;box-shadow:0 2px 8px rgba(0,0,0,0.15);">
		<strong>Info:</strong> Gunakan tombol kuning di pojok kanan atas untuk menampilkan kontrol mobile (joystick &amp; area tembak) saat testing di desktop.
	</div>

	<!-- build:remove -->
		<script src="http://localhost:35729/livereload.js"></script>  
	<!-- /build -->

	<!-- build:js main.min.js -->
  
		<!-- LIBRARIES -->
		<script src="js/lib/phaser-new.js"></script>
		<script src="js/lib/phaser.patch.js"></script>

		<!-- STATES -->
		<script src="js/states/bootstate.js"></script>
		<script src="js/states/loaderstate.js"></script>
		<script src="js/states/mainmenustate.js"></script>
		<script src="js/states/gamestate.js"></script>
		<script src="js/states/gameoverstate.js"></script>

		<!-- RESOURCES -->
		<script src="js/resources.js"></script>
		<script src="js/waves.js"></script>
		<script src="js/points.js"></script>

		<!-- MANAGERS -->
		<script src="js/managers/collisionmanager.js"></script>
		<script src="js/managers/inputmanager.js"></script>
		<script src="js/managers/inventorymanager.js"></script>
		<script src="js/managers/guimanager.js"></script>
		<script src="js/managers/wavemanager.js"></script>

		<!-- ENTITIES -->
		<script src="js/entities/player.js"></script>
		<script src="js/entities/bullet.js"></script>
		<script src="js/entities/bear.js"></script>
		<script src="js/entities/cane.js"></script>
		<script src="js/entities/corn.js"></script>
		<script src="js/entities/turret.js"></script>
		<script src="js/entities/mine.js"></script>
		<script src="js/entities/tooth.js"></script>
		<script src="js/entities/explosion.js"></script>

		<!-- GUI -->
		<script src="js/gui/toolbar.js"></script>
		<script src="js/gui/toolbar_slot.js"></script>
		<script src="js/gui/hud.js"></script>
		<script src="js/gui/menuscreen.js"></script>

		<!-- Add nipplejs CDN before main.js -->
		<script src="https://cdn.jsdelivr.net/npm/nipplejs@0.9.0/dist/nipplejs.min.js"></script>

		<!-- MAIN -->
		<script src="js/main.js"></script>

	<!-- /build -->

	<script>
	// Patch: Make shoot-area ignore pointer events when menu is open
	(function() {
	  function updateShootAreaPointerEvents() {
	    var shootArea = document.getElementById('shoot-area');
	    if (window.GUIManager && window.GUIManager.menuScreen && window.GUIManager.menuScreen.visible) {
	      shootArea.style.pointerEvents = 'none';
	    } else {
	      shootArea.style.pointerEvents = 'auto';
	    }
	  }
	  setInterval(updateShootAreaPointerEvents, 100); // Poll every 100ms
	})();
	</script>

</body>
</html>
